import{C as u,F as p,I as l,L as n,Q as i,U as f,Ub as h,e as a,f as o,l as c}from"./chunk-KE45M56U.js";var d=(()=>{class t{intercept(e,r){let s=localStorage.getItem("token");if(s){let m=e.clone({setHeaders:{Authorization:`Bearer ${s}`}});return r.handle(m)}return r.handle(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=i({token:t,factory:t.\u0275fac})}return t})();var S=(()=>{class t{baseUrl="//51.250.113.12:31005";http=f(h);isLoading$=new a(!1);requestsSubject$=new o(1);constructor(){this.requestsSubject$.next()}get requests(){return this.requestsSubject$.pipe(l(()=>this.getHistory()),p({bufferSize:1,refCount:!0}))}get loading(){return this.isLoading$.asObservable()}getHistory(){return this.http.get(`${this.baseUrl}/tz-history`)}generateTestTask(e){return this.isLoading$.next(!0),this.http.post(`${this.baseUrl}/generatetz`,e).pipe(u(()=>this.isLoading$.next(!1)))}getRequestById(e){return this.isLoading$.next(!0),this.requests.pipe(c(r=>r.find(s=>s.id===e)),n(()=>this.isLoading$.next(!1)))}removeRequest(e){return this.http.delete(`${this.baseUrl}/remove`,{params:{id:e}}).pipe(n(()=>this.requestsSubject$.next()))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=i({token:t,factory:t.\u0275fac})}return t})();export{d as a,S as b};
